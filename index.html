<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Universal Arcade</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Inter',sans-serif; color:#fff; background:#0f0f1a; overflow-x:hidden; }
header { position:relative; z-index:2; padding:20px; font-weight:600; background:rgba(0,0,0,0.6); backdrop-filter: blur(8px); border-bottom:1px solid rgba(255,255,255,0.1); display:flex; justify-content:space-between; align-items:center; }
header h1{ font-size:1.5rem; }
nav{ display:flex; gap:20px; }
nav button{ background:none; border:none; color:#fff; font-weight:600; font-size:1rem; cursor:pointer; transition:0.25s; padding:6px 12px; border-radius:8px; }
nav button.active, nav button:hover{ background:rgba(255,255,255,0.2); }

.container{ position:relative; z-index:2; max-width:1000px; margin:auto; }

#searchBar, #searchBarApps{ width:100%; padding:12px 16px; margin-bottom:25px; border:none; border-radius:10px; font-size:1rem; outline:none; background:rgba(255,255,255,0.1); color:#fff; display:none; }
#searchBar::placeholder, #searchBarApps::placeholder{ color:#ccc; }

.homepage{ display:flex; justify-content:center; align-items:center; height:calc(100vh - 80px); text-align:center; padding:0 20px; position:relative; }
.homepage>div{ transform:translateY(50px); }
.homepage h1{ font-size:3.5rem; margin-bottom:20px; color:#fff; }
.homepage p{ font-size:1.25rem; color:#ddd; margin-bottom:30px; line-height:1.6; }
.homepage-buttons{ display:flex; justify-content:center; gap:25px; flex-wrap:wrap; margin-bottom:25px; }
.homepage-buttons button{ padding:18px 50px; font-size:1.25rem; border:none; border-radius:12px; cursor:pointer; font-weight:600; color:white; background:linear-gradient(135deg,#4da6ff,#1a8cff); box-shadow:0 6px 20px rgba(0,0,0,0.35); transition:all 0.3s ease; }
.homepage-buttons button:hover{ transform:translateY(-4px); box-shadow:0 12px 25px rgba(0,0,0,0.45); }
.homepage-footer{ font-size:1rem; color:#aaa; }

.tab-page{ display:none; padding:40px 20px; }
.tab-page.active{ display:block; }

.grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:30px; margin-top:20px; }
.item{ background:rgba(255,255,255,0.05); padding:20px; border-radius:20px; box-shadow:0 6px 18px rgba(0,0,0,0.35); text-align:center; transition:transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease; cursor:pointer; }
.item:hover{ transform:translateY(-6px); box-shadow:0 12px 30px rgba(0,0,0,0.45); background:rgba(255,255,255,0.1); }
.item img{ width:100%; height:140px; object-fit:cover; border-radius:15px; margin-bottom:12px; transition:transform 0.3s ease; }
.item:hover img{ transform:scale(1.05); }
.item span{ font-weight:600; font-size:1.1rem; color:#fff; display:block; margin-top:8px; }

#particles-js{ position:fixed; width:100%; height:100%; top:0; left:0; z-index:0; background:#0f0f1a; }

#gameModal{
  display:none;
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  background:rgba(0,0,0,0.85);
  backdrop-filter:blur(6px);
  z-index:99;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  padding:10px;
}
#gameModal .iframe-wrapper{
  width:100%;
  max-width:95vw;
  max-height:90vh;
}
#gameModal iframe{
  width:100%;
  height:100%;
  border:none;
  border-radius:12px;
  box-shadow:0 4px 20px rgba(0,0,0,0.6);
  aspect-ratio:auto;
  object-fit:contain;
}

.modal-buttons{ margin-top:15px; display:flex; gap:10px; }
.modal-buttons button{ padding:10px 20px; border:none; border-radius:8px; font-size:1rem; cursor:pointer; font-weight:600; transition:0.25s; }
#closeBtn{ background:#ff4d4d; color:white; } #closeBtn:hover{ background:#e63e3e; }
#fullscreenBtn{ background:#4da6ff; color:white; } #fullscreenBtn:hover{ background:#1a8cff; }

#loadingScreen{ position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(15,15,26,0.95); display:none; flex-direction:column; justify-content:center; align-items:center; z-index:9999; }
#loadingScreen .loader{ border:6px solid #f3f3f3; border-top:6px solid #4da6ff; border-radius:50%; width:70px; height:70px; animation:spin 1s linear infinite; margin-bottom:15px; }
@keyframes spin{ 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }
#loadingScreen p{ color:#fff; font-weight:600; font-size:1.2rem; }

/* YouTube fullscreen button */
#ytFullscreenBtn{ position:absolute; top:10px; right:10px; padding:8px 14px; border:none; border-radius:8px; background:#4da6ff; color:#fff; font-weight:600; cursor:pointer; transition:0.3s; }
#ytFullscreenBtn:hover{ background:#1a8cff; }
</style>
</head>
<body>

<div id="particles-js"></div>
<div id="loadingScreen"><div class="loader"></div><p>Loading...</p></div>

<header>
  <h1>Universal Arcade</h1>
  <nav>
    <button id="homeTab" class="active" onclick="showTab('home')">Home</button>
    <button id="gamesTab" onclick="showTab('games')">Games</button>
    <button id="appsTab" onclick="showTab('apps')">Apps</button>
    <button id="youtubeTab" onclick="showTab('youtube')">YouTube</button>
  </nav>
</header>

<div class="container">
  <!-- Home -->
  <div id="home" class="tab-page homepage active">
    <div>
      <h1>Universal Arcade</h1>
      <p>Play games and use apps directly in your browser with fullscreen support and a clean UI.</p>
      <div class="homepage-buttons">
        <button onclick="showTab('games')">Explore Games</button>
        <button onclick="showTab('apps')">Explore Apps</button>
        <button onclick="showTab('youtube')">YouTube Player</button>
      </div>
      <p class="homepage-footer">
        Last updated: September 29, 2025<br>
        Created by: Fusionzzz
      </p>
    </div>
  </div>

  <!-- Games -->
  <div id="games" class="tab-page">
    <input type="text" id="searchBar" placeholder="Search for games...">
    <div class="grid" id="gamesGrid"></div>
  </div>

  <!-- Apps -->
  <div id="apps" class="tab-page">
    <input type="text" id="searchBarApps" placeholder="Search for apps...">
    <div class="grid" id="appsGrid"></div>
  </div>

  <!-- YouTube -->
  <div id="youtube" class="tab-page">
    <h2>YouTube Player</h2>
    <p>Paste a YouTube video link below to watch:</p>
    <form id="ytForm" onsubmit="playYouTube(event)" style="display:flex; justify-content:center; margin-top:20px;">
      <input type="text" id="ytInput" placeholder="https://www.youtube.com/watch?v=VIDEO_ID" style="flex:1; max-width:600px; padding:12px 16px; border-radius:12px; border:none; outline:none; background:rgba(255,255,255,0.1); color:#fff; margin-right:10px;">
      <button type="submit" style="padding:12px 24px; border:none; border-radius:12px; background:linear-gradient(135deg,#4da6ff,#1a8cff); color:#fff; font-weight:600; cursor:pointer; transition:0.3s;">Play</button>
    </form>
    <div id="ytWrapper" style="width:100%; max-width:900px; margin:25px auto 0; border-radius:15px; box-shadow:0 8px 25px rgba(0,0,0,0.5); background:rgba(0,0,0,0.3); overflow:hidden; position:relative;">
      <iframe id="ytFrame" style="width:100%; height:60vh; border:none; display:none;"></iframe>
      <div id="ytError" style="display:none; padding:40px; text-align:center; color:#fff; font-size:1.2rem;">
        ‚ùå Video not found. Please check your link and try again.
      </div>
      <button id="ytFullscreenBtn" onclick="ytFullscreen()">Fullscreen</button>
    </div>
  </div>
</div>

<!-- Modal -->
<div id="gameModal">
  <div class="iframe-wrapper">
    <iframe id="gameFrame" src=""></iframe>
  </div>
  <div class="modal-buttons">
    <button id="closeBtn" onclick="closeModal()">Close</button>
    <button id="fullscreenBtn" onclick="toggleFullscreen()">Fullscreen</button>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script>
// --- Particles ---
particlesJS("particles-js", {
  "particles": {"number":{"value":90,"density":{"enable":true,"value_area":800}},"color":{"value":"#ffffff"},"shape":{"type":"circle"},"opacity":{"value":0.5},"size":{"value":3},"line_linked":{"enable":true,"distance":150,"color":"#ffffff","opacity":0.4,"width":1},"move":{"enable":true,"speed":2}},
  "interactivity":{"events":{"onhover":{"enable":true,"mode":"repulse"},"onclick":{"enable":true,"mode":"push"}},"modes":{"repulse":{"distance":100},"push":{"particles_nb":4}}},
  "retina_detect":true
});

// --- Tabs ---
function showTab(tab){
  document.querySelectorAll('.tab-page').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
  document.getElementById(tab).classList.add('active');
  document.getElementById(tab+'Tab').classList.add('active');

  document.getElementById('searchBar').style.display = (tab==='games') ? 'block' : 'none';
  document.getElementById('searchBarApps').style.display = (tab==='apps') ? 'block' : 'none';

  if(tab !== 'youtube'){
    const ytFrame = document.getElementById('ytFrame');
    ytFrame.src = ''; ytFrame.style.display = 'none';
    document.getElementById('ytError').style.display = 'none';
  }
}

// --- Modal (Games) ---
function openModal(url){
  const loader = document.getElementById('loadingScreen');
  const iframe = document.getElementById('gameFrame');

  document.getElementById('particles-js').style.display = 'none';
  loader.style.display = 'flex';
  iframe.src = ''; 

  setTimeout(()=>{ 
    loader.style.display = 'none';
    iframe.src = url; 
    document.getElementById('gameModal').style.display = 'flex';
  }, 100);
}

function closeModal(){
  const iframe = document.getElementById('gameFrame');
  iframe.src = ''; 
  document.getElementById('gameModal').style.display = 'none';
  document.getElementById('particles-js').style.display = 'block'; // Show particles again
}

function toggleFullscreen(){
  const iframe = document.getElementById("gameFrame");
  if(iframe.requestFullscreen) iframe.requestFullscreen();
  else if(iframe.mozRequestFullScreen) iframe.mozRequestFullScreen();
  else if(iframe.webkitRequestFullscreen) iframe.webkitRequestFullscreen();
  else if(iframe.msRequestFullscreen) iframe.msRequestFullscreen();

  // Hide particles when fullscreen
  document.getElementById('particles-js').style.display = 'none';
}

// --- YouTube Fullscreen ---
function ytFullscreen(){
  const ytFrame=document.getElementById("ytFrame");
  if(ytFrame.requestFullscreen) ytFrame.requestFullscreen();
  else if(ytFrame.mozRequestFullScreen) ytFrame.mozRequestFullScreen();
  else if(ytFrame.webkitRequestFullscreen) ytFrame.webkitRequestFullscreen();
  else if(ytFrame.msRequestFullscreen) ytFrame.msRequestFullscreen();

  document.getElementById('particles-js').style.display = 'none';
}

// --- Search ---
document.getElementById("searchBar").addEventListener("keyup", function(){
  const filter=this.value.toLowerCase();
  document.querySelectorAll("#games .item").forEach(i=>{
    i.style.display=i.getAttribute("data-title").toLowerCase().includes(filter)?'block':'none';
  });
});
document.getElementById("searchBarApps").addEventListener("keyup", function(){
  const filter=this.value.toLowerCase();
  document.querySelectorAll("#apps .item").forEach(i=>{
    i.style.display=i.getAttribute("data-title").toLowerCase().includes(filter)?'block':'none';
  });
});

// --- Load Games ---
fetch("games.json")
  .then(res => res.json())
  .then(data => {
    const grid = document.getElementById("gamesGrid");
    data.forEach(game => {
      const item = document.createElement("div");
      item.classList.add("item");
      item.setAttribute("data-title", game.title);
      item.onclick = () => openModal(game.url);
      item.innerHTML = `<img src="${game.thumbnail}" alt="${game.title}"><span>${game.title}</span>`;
      grid.appendChild(item);
    });
  });

// --- Load Apps ---
fetch("apps.json")
  .then(res => res.json())
  .then(data => {
    const grid = document.getElementById("appsGrid");
    data.forEach(app => {
      const item = document.createElement("div");
      item.classList.add("item");
      item.setAttribute("data-title", app.title);
      item.onclick = () => openModal(app.url);
      item.innerHTML = `<img src="${app.thumbnail}" alt="${app.title}"><span>${app.title}</span>`;
      grid.appendChild(item);
    });
  });

// --- YouTube Player ---
function playYouTube(e){
  e.preventDefault();
  const url = document.getElementById('ytInput').value.trim();
  const ytFrame = document.getElementById('ytFrame');
  const ytError = document.getElementById('ytError');

  ytFrame.style.display='none';
  ytError.style.display='none';
  ytFrame.src='';

  if(!url) return;

  let videoId = null;
  try{
    const urlObj = new URL(url);
    if(urlObj.hostname.includes('youtu.be')) videoId=urlObj.pathname.slice(1);
    else if(urlObj.hostname.includes('youtube.com')) videoId=urlObj.searchParams.get('v');
  } catch(err){ videoId=null; }

  if(videoId){
    ytFrame.src='https://www.youtube.com/embed/'+videoId+'?autoplay=1';
    ytFrame.style.display='block';
  } else {
    ytError.style.display='block';
  }
}
</script>
</body>
</html>
